<!DOCTYPE html>
<html>
 <head>
    <meta charset=utf-8>
    <title>Sample Conversion from SVG to LDraw</title>
    <meta name="viewport" content="width=device-width" />
 </head>
 <body>
  <script src="js/path_simplification.js"></script>
  <script src="js/bezier_removal.js"></script>
  <script src="js/trapezoidal_decomposition.js"></script>
  <script src="js/svg2ldraw.js"></script>

  <h3>SVG to Convert</h3>
  <div id="svg_container">
<svg width="300" height="100" xmlns="http://www.w3.org/2000/svg">  
  <path d="M10 10 H 90 V 90 H 10 L 50 50 l -30 -5 L 10 10 M 110 10 h 50 v 20 z m 0 50 h 50 v 20 Z" fill="green"/>
  <path d="M 110 15 L 160 35 C 160 45, 100 25, 110 15">
  <path d="M 200 0 v 100 h 100 v -100 Z" fill="pink" />
  <path d="M 210 50 L 260 20 L 280 90 L 210 50" fill="blue" />
  <path d="M 225 49 L 242 41 L 258 62 Z" fill="red" />
</svg>
  </div>
  <pre id="svg_content">
  </pre>

  <h3>Simplified SVG</h3>
  <div id="svg_simplified">
  </div>
  <pre id="svg_content_simplified"></pre>

  <h3>LDraw</h3>
  <div id="svg_ldraw">
  </div>
  <pre id="ldraw_result">

  </pre>
  <script>
   var svg = document.getElementById('svg_container').innerHTML;
   document.getElementById('svg_content').appendChild(document.createTextNode(svg));

   // Simplify:
   var simplifier = new UTIL.PathSimplification(0.2);
   var simplified = simplifier.simplifySvg(svg);

   var simplifiedSvg = simplifier.svgObjToSvg(simplified);
   document.getElementById('svg_simplified').innerHTML = simplifiedSvg;
   document.getElementById('svg_content_simplified').appendChild(document.createTextNode(simplifiedSvg));
   
   // LDraw:
   var lDrawContent = new SVG2LDRAW.Svg().toLDraw(simplified);
   var lDrawSvg = simplifier.svgObjToSvg(lDrawContent);
   document.getElementById('svg_ldraw').innerHTML = lDrawSvg;
   //document.getElementById('ldraw_result').innerHTML = JSON.stringify(lDrawContent);
   document.getElementById('ldraw_result').appendChild(document.createTextNode(lDrawSvg));
  </script>
 </body>
</html>
